(this.webpackJsonpweeklyplanner2=this.webpackJsonpweeklyplanner2||[]).push([[0],{21:function(e,t,r){e.exports=r(33)},26:function(e,t,r){},27:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(18),s=r.n(o),i=(r(26),r(20)),l=r(1),p=r(2),c=r(4),f=r(3),h=r(12),d=r(5),u=(r(27),function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null,"Login",n.a.createElement("div",null,n.a.createElement(h.b,{to:"/planner"},n.a.createElement("button",null,"log in"))))}}]),r}(a.Component)),m=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).drag=function(t){console.log(e.props.workerDB3[e.props.i1]),t.dataTransfer.setData("src",e.props.workerDB3[e.props.i1].id)},e.draging=function(e){},e.bringWorkerID1=function(){e.props.bringWorkerID2(e.props.workerDB3[e.props.i1].id)},e}return Object(p.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{id:"ticket".concat(this.props.i1),className:"ticketDiv",style:{borderColor:"".concat(this.props.workerDB3[this.props.i1].color)},draggable:"true",onDragStart:this.drag,onDrag:this.draging,onMouseDown:this.bringWorkerID1},this.props.workerDB3[this.props.i1].name)}}]),r}(a.Component),k=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).bringWorkerID3=function(t){e.props.bringWorkerID4(t)},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.workerDB2.map((function(t,r){return n.a.createElement(m,{bringWorkerID2:e.bringWorkerID3,key:r,workerDB3:e.props.workerDB2,i1:r})})))}}]),r}(a.Component),v=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).markerData=function(){var t=0,r=0;console.log(r);var a=document.getElementsByClassName("dropAreaDiv")[0].offsetLeft;if(void 0!==e.props.axisX1){var n=e.props.axisX1-a,o=e.props.localShifts.map((function(e){return e.shiftStart}));o.push(720),o.push(n);for(var s=0;s<o.length-1;s++)for(var i=0;i<o.length-1-s;i++)if(o[i]>o[i+1]){var l=o[i];o[i]=o[i+1],o[i+1]=l}for(var p=0;p<o.length;p++)if(o[p]===n)var c=p;var f=o[c+1],h=e.props.localShifts.map((function(e){return e.shiftLength+e.shiftStart}));h.push(0),h.push(n);for(var d=0;d<h.length-1;d++)for(var u=0;u<h.length-1-d;u++)if(h[u]>h[u+1]){var m=h[u];h[u]=h[u+1],h[u+1]=m}for(var k=0;k<h.length;k++)if(h[k]===n)var v=k;var D=h[v-1];if(n<D+120)r=D,t=240,f-D<240&&(r=D,t=f-D);else if(n>f-120){var g=f-D;g>=240?(r=f-240,t=240):g<240&&(r=D,t=f-D)}else r=n-120,t=240,r=5*Math.floor((r+1)/5);e.props.bringMarkerData1(r,t),console.log(r)}return{mrkStr:r,mrkLnth:t}},e.markerColor=function(){return 0===e.markerData().mrkLnth?"#ffffff":"#ffaaaa"},e.markerDataColor=function(){return 0===e.markerData().mrkLnth?(console.log("Nan"),console.log(e.markerData().mrkStr),"#ffffff"):"#000000"},e.addShift=function(){console.log("addShift")},e}return Object(p.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{id:"markerDiv",style:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",height:"18px",width:"".concat(this.markerData().mrkLnth,"px"),border:"0px solid blue",left:"".concat(this.markerData().mrkStr,"px"),zIndex:"-1",backgroundColor:"".concat(this.markerColor())}},n.a.createElement("div",{style:{color:"".concat(this.markerDataColor()),zIndex:-1,fontSize:"12px"}},this.markerData().mrkStr),n.a.createElement("div",{style:{color:"".concat(this.markerDataColor()),zIndex:-1,fontSize:"12px"}},this.markerData().mrkStr+this.markerData().mrkLnth))}}]),r}(a.Component),D=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).shiftColor=function(){var t=parseInt(e.props.shiftData.workerId);return e.props.workerDB4.filter((function(e){return e.id===t}))[0].color},e.workerName=function(){var t=parseInt(e.props.shiftData.workerId);return e.props.workerDB4.filter((function(e){return e.id===t}))[0].name},e}return Object(p.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{className:"shiftDiv",style:{position:"absolute",width:"".concat(this.props.localShifts[this.props.shiftInd1].shiftLength,"px"),left:"".concat(this.props.localShifts[this.props.shiftInd1].shiftStart,"px"),top:"-1px",display:"flex",justifyContent:"space-between",backgroundColor:"".concat(this.shiftColor()),height:"20px",borderRadius:"5px",zIndex:1}},n.a.createElement("div",{className:"shiftDataDiv",style:{zIndex:-1,fontSize:"12px"}},this.props.localShifts[this.props.shiftInd1].shiftStart),n.a.createElement("div",{style:{zIndex:-1,fontSize:"12px"}},this.workerName()),n.a.createElement("div",{className:"shiftDataDiv",style:{zIndex:-1,fontSize:"12px"}},this.props.localShifts[this.props.shiftInd1].shiftStart+this.props.localShifts[this.props.shiftInd1].shiftLength))}}]),r}(a.Component),g=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).allowDrop=function(e){if(e.preventDefault(),a.state.axisX!==e.pageX&&a.setState({axisX:e.pageX}),"shiftDiv"!==e.target.className&&"shiftDataDiv"!==e.target.className){var t=a.props.dayInd2,r=a.props.postInd1;a.props.placeMarker2(t,r)}},a.drop=function(e){console.log("drop"),e.preventDefault(),console.log(e.target);var t=e.dataTransfer.getData("src");if(console.log(t),"shiftDiv"!==e.target.className){console.log("src "+t),console.log("day "+a.props.dayInd2),console.log("post "+a.props.postInd1),console.log("x "+e.pageX);var r=t,n=a.props.dayInd2,o=a.props.postInd1,s=e.pageX;a.addShiftToDB1(r,n,o,s)}"shiftDiv"===e.target.className&&console.log("false"),a.deleteMarker1()},a.placeMarker1=function(){if(a.props.dayInd2===a.props.markerPlaceDay3&&a.props.postInd1===a.props.markerPlacePost3)return n.a.createElement(v,{bringMarkerData1:a.bringMarkerData2,axisX1:a.state.axisX,localShifts:a.props.shiftSet3[a.props.dayInd2].posts[a.props.postInd1].shifts,dayInd3:a.props.dayInd2,postInd2:a.props.postInd1,markerWorkerID4:a.props.markerWorkerID3})},a.bringMarkerData2=function(e,t){a.props.bringMarkerData3(e,t)},a.deleteMarker1=function(){var e=document.getElementById("markerDiv");null!==e&&e.remove(),a.props.deleteMarker2()},a.addShiftToDB1=function(e,t,r,n){console.log("adding shift"),a.props.addShiftToDB2(e,t,r,n)},a.getAxisX=function(){console.log("pressed")},a.state={axisX:void 0,shiftStartForDrop:void 0,shiftLengthForDrop:void 0,tempA:void 0},a}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"postBodyDiv"},n.a.createElement("div",null,this.props.shiftSet3[this.props.dayInd2].posts[this.props.postInd1].name),n.a.createElement("div",{className:"dropAreaDiv",style:{display:"flex",position:"relative"},id:"dropDay".concat(this.props.dayInd2,"Post").concat(this.props.postInd1),onDragOver:this.allowDrop,onDrop:this.drop,onDragLeave:this.deleteMarker1},this.placeMarker1(),this.props.shiftSet3[this.props.dayInd2].posts[this.props.postInd1].shifts.map((function(t,r){return n.a.createElement(D,{key:r,localShifts:e.props.shiftSet3[e.props.dayInd2].posts[e.props.postInd1].shifts,shiftInd1:r,workerDB4:e.props.workerDB3,markerWorkerID4:e.props.markerWorkerID3,shiftData:t})})))))}}]),r}(a.Component),b=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).placeMarker3=function(t,r){e.props.placeMarker4(t,r)},e.deleteMarker3=function(){e.props.deleteMarker4()},e.addShiftToDB3=function(t,r,a,n){e.props.addShiftToDB4(t,r,a,n)},e.bringMarkerData4=function(t,r){e.props.bringMarkerData5(t,r)},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"dayBodyDiv"},n.a.createElement("div",{className:"dayNameDiv"},this.props.shiftSet2[this.props.dayInd1].name),n.a.createElement("div",null,this.props.shiftSet2[this.props.dayInd1].posts.map((function(t,r){return n.a.createElement(g,{placeMarker2:e.placeMarker3,deleteMarker2:e.deleteMarker3,addShiftToDB2:e.addShiftToDB3,bringMarkerData3:e.bringMarkerData4,key:r,shiftSet3:e.props.shiftSet2,workerDB3:e.props.workerDB2,postInd1:r,dayInd2:e.props.dayInd1,markerPlaceDay3:e.props.markerPlaceDay2,markerPlacePost3:e.props.markerPlacePost2,markerWorkerID3:e.props.markerWorkerID2})})))))}}]),r}(a.Component),y=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).placeMarker5=function(t,r){e.props.placeMarker6(t,r)},e.deleteMarker5=function(){e.props.deleteMarker6()},e.addShiftToDB5=function(t,r,a,n){e.props.addShiftToDB6(t,r,a,n)},e.bringMarkerData6=function(t,r){e.props.bringMarkerData7(t,r)},e.bringWorkerID5=function(t){e.props.bringWorkerID6(t)},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{id:"plnWrkBox"},n.a.createElement("div",null,n.a.createElement(k,{bringWorkerID4:this.bringWorkerID5,workerDB2:this.props.workerDB1})),n.a.createElement("div",{id:"plannerDiv"},this.props.shiftSet1.map((function(t,r){return n.a.createElement(b,{placeMarker4:e.placeMarker5,deleteMarker4:e.deleteMarker5,addShiftToDB4:e.addShiftToDB5,bringMarkerData5:e.bringMarkerData6,key:r,shiftSet2:e.props.shiftSet1,workerDB2:e.props.workerDB1,dayInd1:r,markerPlaceDay2:e.props.markerPlaceDay1,markerPlacePost2:e.props.markerPlacePost1,markerWorkerID2:e.props.markerWorkerID1})})))))}}]),r}(a.Component),S=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null,"Presonal")}}]),r}(a.Component),I=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null,"History")}}]),r}(a.Component),E=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null,"SetPlan")}}]),r}(a.Component),j=function(e){Object(c.a)(r,e);var t=Object(f.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).placeMarker7=function(e,t){a.state.markerPlaceDay===e&&a.state.markerPlacePost===t||(a.setState({markerPlaceDay:e}),a.setState({markerPlacePost:t}))},a.deleteMarker7=function(){a.setState({markerPlaceDay:void 0}),a.setState({markerPlacePost:void 0})},a.addShiftToDB7=function(e,t,r,n){console.log("addShift"),console.log(e),console.log(t),console.log(r),console.log(n),console.log(""),console.log("clacShift");var o=240,s=n-document.getElementsByClassName("dropAreaDiv")[0].offsetLeft,l=a.state.shiftSet[t].posts[r].shifts.map((function(e,t){return e.shiftStart}));l.push(720),l.push(s);for(var p=0;p<l.length-1;p++)for(var c=0;c<l.length-1-p;c++)if(l[c]>l[c+1]){var f=l[c];l[c]=l[c+1],l[c+1]=f}for(var h=0;h<l.length;h++)if(l[h]===s)var d=h;var u=l[d+1];console.log(u);var m=a.state.shiftSet[t].posts[r].shifts.map((function(e,t){return e.shiftLength+e.shiftStart}));m.push(0),m.push(s);for(var k=0;k<m.length-1;k++)for(var v=0;v<m.length-1-k;v++)if(m[v]>m[v+1]){var D=m[v];m[v]=m[v+1],m[v+1]=D}for(var g=0;g<m.length;g++)if(m[g]===s)var b=g;var y=m[b-1];if(console.log(y),s<y+120){var S=y;u-y<240&&(S=y,o=u-y)}else if(s>u-120){var I=u-y;I>=240?S=u-240:I<240&&(S=y,o=u-y)}else S=s-120,S=5*Math.floor((S+1)/5);var E=Object(i.a)(a.state.shiftSet);E[t].posts[r].shifts.push({workerId:e,shiftStart:S,shiftLength:o}),a.setState({shiftSet:E})},a.bringMarkerData8=function(e,t){},a.bringWorkerID7=function(e){console.log(e),a.setState({markerWorkerID:e})},a.state={shiftSet:[{name:"Su",posts:[{name:"post1",shifts:[]},{name:"post2",shifts:[]},{name:"post3",shifts:[]}]},{name:"Mo",posts:[{name:"post6",shifts:[]},{name:"post7",shifts:[]},{name:"post8",shifts:[]}]},{name:"Tu",posts:[{name:"post1",shifts:[]},{name:"post2",shifts:[]},{name:"post3",shifts:[]}]},{name:"We",posts:[{name:"post1",shifts:[]},{name:"post2",shifts:[]},{name:"post3",shifts:[]}]},{name:"Th",posts:[{name:"post1",shifts:[]},{name:"post2",shifts:[]},{name:"post3",shifts:[]}]},{name:"Fr",posts:[{name:"post1",shifts:[]},{name:"post2",shifts:[]},{name:"post3",shifts:[]}]},{name:"Sa",posts:[{name:"post1",shifts:[]},{name:"post2",shifts:[]},{name:"post3",shifts:[]}]}],workerDB:[{id:0,name:"draggable 1",color:"#ff0000"},{id:1,name:"draggable 2",color:"#00aa00"},{id:2,name:"draggable 3",color:"#6666ff"},{id:3,name:"draggable 4",color:"#ffff00"},{id:4,name:"draggable 5",color:"#ff00ff"},{id:6,name:"draggable 6",color:"#00ffff"}],markerPlaceDay:void 0,markerPlacePost:void 0,markerWorkerID:void 0},a}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,"weekly planner",n.a.createElement(h.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",component:function(){return n.a.createElement(u,null)}}),n.a.createElement(d.a,{exact:!0,path:"/planner",component:function(){return n.a.createElement(y,{placeMarker6:e.placeMarker7,deleteMarker6:e.deleteMarker7,addShiftToDB6:e.addShiftToDB7,bringMarkerData7:e.bringMarkerData8,bringWorkerID6:e.bringWorkerID7,workerDB1:e.state.workerDB,markerWorkerID1:e.state.markerWorkerID,shiftSet1:e.state.shiftSet,markerPlaceDay1:e.state.markerPlaceDay,markerPlacePost1:e.state.markerPlacePost})}}),n.a.createElement(d.a,{exact:!0,path:"/personal",component:function(){return n.a.createElement(S,null)}}),n.a.createElement(d.a,{exact:!0,path:"/history",component:function(){return n.a.createElement(I,null)}}),n.a.createElement(d.a,{exact:!0,path:"/setplanner",component:function(){return n.a.createElement(E,null)}}))))}}]),r}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.c1b54bc0.chunk.js.map